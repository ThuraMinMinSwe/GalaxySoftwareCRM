
@page "/"
@layout LoginLayout
@using GalaxySoftwareCRM.Shared.Models
@inject NavigationManager NavigationManager


<div class="col-lg-3">
<div class="card">
    <h4 class="card-header">GalaxySoftware <b>CRM</b></h4>
    <div class="card-body">
        <EditForm Model="@model" OnValidSubmit="OnValidSubmit">
            <DataAnnotationsValidator />
            <div class="form-group mt-2">
                <InputText @bind-Value="model.Name" class="form-control" placeholder="User Name" />
                <ValidationMessage For="@(() => model.Name)" />
            </div>
            <div class="form-group mt-2">
                <InputText @bind-Value="model.Password" type="password" class="form-control" placeholder="Password" />
                <ValidationMessage For="@(() => model.Password)" />
            </div>
            <div>
            <div class="row mt-5">
                <div class="col-sm">
                    <NavLink href="account/register" class="btn btn-link">Register</NavLink>
                </div>   
                <div class="col-sm">
                        <MudButton ButtonType="ButtonType.Submit"
                                   Variant="Variant.Filled"
                                   FullWidth=true
                                   Color="Color.Primary"
                                   Style="margin-right:10px">
                            LogIn
                        </MudButton>
                    </div>
                 
            </div>
            </div>
           
        </EditForm>
    </div>
</div>
</div>

@code 
{
    public User model = new User();

    private bool loading;

    private async void OnValidSubmit()
    {

        loading = true;
        
            await Task.Delay(2000);
            NavigationManager.NavigateTo("/customerspage");
        
        
    }

}
